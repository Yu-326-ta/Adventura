# TODO リスト

## 完了済み ✅

- [x] **バトルパーティー機能の実装** - todo 画面にバトルパーティー表示機能を追加

  - todo 画面にバトルパーティーセクションを追加
  - モンスター 1、プレイヤーキャラクター、モンスター 2 の順番で表示
  - バトルパーティーのみの中央表示レイアウト
  - 左側のキャラクター画像・ステータスカードを削除
  - プレイヤーキャラクターのステータス表示（最大 HP、攻撃、防御）
  - モンスターの詳細情報表示（レベル、経験値、ステータス）
  - プログレスバーによる経験値の視覚的表示
  - 空きスロットの視覚的表示
  - ホバーエフェクト付きのインタラクティブ UI（キャラクター：黄色、モンスター：紫色）
  - **横並び縦長カードデザイン**: キャラクター画像を上部に配置した縦長カード（48x64）
  - レスポンシブ対応（全画面サイズで横並び表示に統一）
  - **コンパクトデザイン**: 不要なマージンを削除し、縦幅を縮小
  - **統一されたカード幅**: 全カードで一貫したサイズ（w-32 sm:w-48）
  - **名前制限対応**: 5 文字以内の名前制限を前提としたレイアウト最適化
  - 完了日: 2025 年 1 月 21 日

- [x] **モンスター所持機能の実装** - プロフィール画面にモンスター表示機能を追加

  - プロフィール画面にモンスター表示セクションを追加
  - レスポンシブデザイン対応（モバイル、タブレット、PC）
  - 空きスロットの視覚的表示（最大 5 体）
  - モンスターレベルと経験値をプログレスバーで表示
  - モンスターの能力ステータス表示（HP、攻撃、防御）
  - プロフィール画面の能力ステータス表示追加
  - 不要な日時表示を削除（開始日、獲得日時）
  - 完了日: 2025 年 1 月 21 日

- [x] **バトル画面 UI の改修** - クラシックな RPG 風 UI に変更

  - ステータスボックスにキャラ画像を追加
  - HP と MP をプログレスバー表示に変更
  - 3 体のパーティーメンバー対応
  - VS マーク削除、モンスターのみ中央表示
  - パーティーシステムの実装
  - モンスターの攻撃対象をランダム選択に変更
  - 完了日: 2024 年 12 月

- [x] **ステータスバーの色変更** ✅

  - HP: 緑色
  - MP: 黄色
  - モンスター HP: 赤色
  - 完了日: 2024 年 12 月

- [x] **ターンベースバトルシステム** ✅

  - 各キャラクターが 1 ターンに 1 回ずつ攻撃可能
  - 全キャラクター行動後にモンスターターン
  - 行動済みキャラクターの視覚的フィードバック
  - アクティブキャラクターのハイライト表示
  - 完了日: 2024 年 12 月

- [x] **レスポンシブデザイン対応** ✅

  - モバイル、タブレット、PC 対応
  - ステータスボックスの最適化レイアウト
  - レスポンシブボタンサイズ
  - 画像サイズの自動調整
  - タッチフレンドリーな操作性
  - 完了日: 2024 年 12 月

- [x] **コンパクトなステータスボックス** ✅
  - 常に横並び表示
  - 固定幅（w-32）でコンパクト化
  - 小さいキャラクター画像（8x8px）
  - 細いプログレスバー（h-1.5）
  - 最適化された間隔調整
  - 完了日: 2024 年 12 月

## 実装された機能

### レスポンシブデザイン対応

- **Todo 画面の完全レスポンシブ対応**: モバイル、タブレット、PC 最適化
- **バトルパーティーセクション**:
  - モバイル：カード横並び（w-32）
  - PC：横並び（w-48 固定）
  - 画像サイズ：モバイル（40x40）、PC（64x64）
- **検索・フィルターセクション**:
  - モバイル：検索バーとボタンが縦並び
  - PC：横並び配置
  - フレキシブルボタン配置
- **Todo レーン一覧**:
  - モバイル：1 列表示
  - タブレット：2 列表示
  - PC：3 列表示
  - 動的な高さ調整（300px→400px）
- **全体的な最適化**:
  - マージンとパディングの画面サイズ別調整
  - フォントサイズの段階的変更
  - 画像サイズの最適化

### バトルパーティー機能

- **Todo 画面統合**: メインの todo 画面にバトルパーティー表示
- **3 スロット構成**: モンスター 1、プレイヤーキャラクター、モンスター 2 の順番
- **中央表示レイアウト**: バトルパーティーのみを中央に表示
- **シンプルデザイン**: 不要な左側キャラクター・ステータス表示を削除
- **プレイヤーキャラクター表示**: 最大 HP、攻撃、防御ステータスを表示
- **詳細ステータス表示**: レベル、経験値、HP、攻撃、防御を視覚的に表示
- **プログレスバー**: 経験値の進行状況を直感的に表示
- **空きスロット管理**: 未設定スロットの視覚的表現
- **インタラクティブ UI**: ホバーエフェクトによる操作感向上（キャラクター：黄色、モンスター：紫色）
- **横並び縦長カードデザイン**: キャラクター画像を上部に配置した縦長カード（モバイル：幅 32、PC：幅 48、高さ 52-64）
- **レスポンシブレイアウト**: 全画面サイズで横並び表示に統一
- **統一された視覚デザイン**: 全カードで統一されたサイズと間隔（w-32 sm:w-48）
- **コンパクトデザイン**: 不要なマージンを削除し、縦幅を縮小（16px 削減）
- **モバイル最適化**: 小画面用のフォントサイズ・画像サイズ調整
- **名前制限最適化**: 5 文字以内の名前制限を活用したレイアウト効率化
- **テキスト表示改善**: truncate 削除により自然な名前表示
- **コンパクト設計**: 必要な情報を効率的に配置したレイアウト

### モンスター所持機能

- **プロフィール画面統合**: 所持モンスターの視覚的表示
- **レスポンシブデザイン**: モバイル、タブレット、PC 対応のグリッドレイアウト
- **詳細情報表示**: モンスター名、レベル、経験値、能力ステータス
- **プログレスバー表示**: レベルと経験値を視覚的なバーで表示
- **能力ステータス表示**: HP、攻撃力、防御力を色分けして表示
- **空きスロット表示**: 未所持スロットの視覚的表現（最大 5 体）
- **ホバーエフェクト**: インタラクティブな UI 要素
- **UI 最適化**: 不要な日時表示を削除し、能力重視のレイアウト

### バトルシステム

- 3 体のパーティーメンバー（ロック、ハッサン、ビアンカ）
- 各キャラクターの個別ステータス管理（HP, MP, レベル）
- **真のターンベースシステム**: 全キャラクターが順番に行動
- HP と MP の色分けプログレスバー表示（HP:緑、MP:黄）
- モンスターのランダム攻撃対象選択
- パーティー全滅による敗北判定
- MP 消費による特殊技システム
- 行動済みキャラクターの視覚的区別

### UI/UX 改善

- ドラゴンクエスト風のステータスボックス
- **コンパクトなステータス表示**: 常に横並びで省スペース
- キャラクター画像付きステータス表示
- **アクティブキャラクターの黄色ハイライト**
- **行動済みキャラクターのグレーアウト**
- **戦闘不能キャラクターのグレースケール表示**
- クラシックな RPG コマンドメニュー
- ピクセルアート風画像レンダリング
- レトロゲーム風デザイン
- ターン表示（誰のターンかを明示）

### レスポンシブデザイン

- **モバイル対応**:

  - ステータスボックスの縦並び表示
  - コンパクトなフォントサイズ（text-xs）
  - 小さいプログレスバー（h-1.5）
  - アイコンのみのボタン表示
  - 画像サイズ調整（48x48px）
  - タッチフレンドリーなボタンサイズ

- **タブレット・PC 対応**:

  - ステータスボックスの横並び表示
  - 読みやすいフォントサイズ（text-sm, text-lg）
  - 標準サイズのプログレスバー（h-2, h-3）
  - テキスト付きボタン表示
  - 大きい画像サイズ（64x64px）
  - デスクトップ向けの間隔調整

- **ブレークポイント対応**:
  - sm: 640px 以上（タブレット）
  - デフォルト: 639px 以下（モバイル）
  - 各要素のサイズ、間隔、レイアウトを最適化

### コンパクトステータスボックス

- **固定幅**: 128px（w-32）で一貫したサイズ
- **小さいキャラクター画像**: 32x32px（8x8 の指定）
- **最適化された間隔**: gap-2, mr-1, mb-1
- **細いプログレスバー**: 高さ 6px（h-1.5）
- **省スペース設計**: 3 つのキャラクターが横並びで表示
- **縮小防止**: flex-shrink-0 で一貫したサイズ維持

- [x] **Todo 画面のレスポンシブデザイン対応**
  - バトルパーティーセクションのレスポンシブ対応
  - 検索・フィルターセクションのモバイル最適化
  - Todo レーン一覧の多段階レスポンシブ対応（1 列 →2 列 →3 列）
  - 全体的なマージンとパディングの最適化
  - フォントサイズと画像サイズの調整
  - 完了日: 2025 年 1 月 21 日

## 今後の改善案 🚀

- [ ] **バトルパーティー機能の拡張**

  - モンスター選択・変更機能の実装
  - バトルパーティー設定画面の追加
  - 戦闘時のパーティー連携システム
  - パーティーの最適化提案機能
  - パーティー編成の保存・呼び出し機能

- [ ] **モンスター所持機能の拡張**

  - 実際の Supabase データベースとの連携
  - クエストクリア時のモンスター獲得システム
  - モンスターの育成機能（レベルアップ、進化）
  - モンスター詳細モーダルの追加
  - モンスター交換・売却機能

- [ ] **アニメーション追加**

  - 攻撃時のキャラクター/モンスターアニメーション
  - ダメージ数値の表示エフェクト
  - HP バーの滑らかな減少アニメーション

- [ ] **バトルシステム拡張**

  - アイテム使用機能
  - より多様な特殊技
  - 状態異常システム（毒、睡眠など）
  - 経験値・レベルアップシステム
  - 蘇生システム
  - バトルパーティーとの連携機能
  - モンスター+キャラクター混合パーティー戦闘
  - パーティーメンバーの協力攻撃

- [ ] **UI/UX 向上**

  - サウンドエフェクト追加
  - バトル背景のバリエーション
  - より詳細な戦闘ログ
  - 行動選択時のプレビュー機能

- [ ] **パフォーマンス最適化**
  - 画像の最適化
  - アニメーションの最適化
  - メモリ使用量の削減

## 技術仕様

### 使用技術

- **フレームワーク**: Next.js 14.2.24
- **スタイリング**: Tailwind CSS 3.4.1
- **UI ライブラリ**: Shadcn/ui
- **言語**: TypeScript 5.2.2
- **画像処理**: next/image（最適化）

### レスポンシブブレークポイント

- **モバイル**: 0px - 639px
- **タブレット**: 640px - 1023px
- **デスクトップ**: 1024px 以上

### コンパクトステータスボックス仕様

- **幅**: 128px（w-32）
- **パディング**: 8px（p-2）
- **キャラクター画像**: 32x32px（w-8 h-8）
- **プログレスバー**: 高さ 6px（h-1.5）
- **フォント**: 12px（text-xs）
- **間隔**: 8px（gap-2）

## 注意事項

- UI 変更は必ず事前承認を得ること
- 既存の技術スタック（Next.js, Tailwind CSS, Shadcn/ui）を維持
- レスポンシブデザインの考慮
- パフォーマンスの最適化
- アクセシビリティの確保
